// Generated by BUCKLESCRIPT VERSION 4.0.18, PLEASE EDIT WITH CARE
'use strict';

var Fs = require("fs");
var List = require("bs-platform/lib/js/list.js");
var Caml_array = require("bs-platform/lib/js/caml_array.js");
var Caml_format = require("bs-platform/lib/js/caml_format.js");
var Caml_option = require("bs-platform/lib/js/caml_option.js");

var text = Fs.readFileSync("test.txt", "utf8");

var re = new RegExp("(^.+$)", "gm");

function gen_lines(param) {
  var match = re.exec(text);
  var line = match !== null ? Caml_option.nullable_to_opt(Caml_array.caml_array_get(match, 0)) : undefined;
  if (line !== undefined) {
    return /* :: */[
            line,
            gen_lines(/* () */0)
          ];
  } else {
    return /* [] */0;
  }
}

var lines = gen_lines(/* () */0);

var ints = List.map(Caml_format.caml_int_of_string, lines);

var sum = List.fold_left((function (a, b) {
        return a + b | 0;
      }), 0, ints);

console.log(sum);

exports.text = text;
exports.re = re;
exports.gen_lines = gen_lines;
exports.lines = lines;
exports.ints = ints;
exports.sum = sum;
/* text Not a pure module */
